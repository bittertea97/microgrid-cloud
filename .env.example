# Core
DATABASE_URL=postgres://microgrid:microgrid@postgres:5432/microgrid?sslmode=disable
HTTP_ADDR=:8080
TENANT_ID=tenant-demo
STATION_ID=station-demo-001
PRICE_PER_KWH=1.0
CURRENCY=CNY
EXPECTED_HOURS=24

# ThingsBoard (default fake server in docker-compose)
TB_BASE_URL=http://thingsboard:18080
TB_TOKEN=

# Auth (JWT)
AUTH_JWT_SECRET=dev-secret-change-me
# JWT_SECRET is deprecated (kept for backward compatibility)
JWT_SECRET=

# Ingest signature (HMAC)
INGEST_HMAC_SECRET=dev-ingest-secret
INGEST_MAX_SKEW_SECONDS=300

# Outbox dispatch (dev)
OUTBOX_DISPATCH_BATCH=200
OUTBOX_DISPATCH_INTERVAL=200ms

# Alarm notifications
ALARM_WEBHOOK_URL=
ALARM_NOTIFY_TEMPLATE=
ALARM_ESCALATION_AFTER=10m
ALARM_NOTIFY_COOLDOWN=2m
ALARM_NOTIFY_DEDUP_WINDOW=10m
ALARM_NOTIFY_TIMEOUT=5s
ALARM_REPORT_LOOKBACK_DAYS=7
ALARM_REPORT_BASE_URL=

# Shadowrun
SHADOWRUN_STORAGE_ROOT=var/reports/shadowrun
SHADOWRUN_PUBLIC_BASE_URL=http://localhost:8080
SHADOWRUN_DAILY_AT=02:00
SHADOWRUN_STATIONS=station-demo-001
SHADOWRUN_WEBHOOK_URL=
SHADOWRUN_CONFIG=

# Telemetry retention (maintenance script)
RETENTION_DAYS=90
FUTURE_MONTHS=3
FUTURE_DAYS=30

# Optional placeholders (external services used by docker-compose, not yet wired in app)
NATS_URL=nats://localhost:4222
MINIO_ENDPOINT=http://localhost:9000
MINIO_ACCESS_KEY=minio
MINIO_SECRET_KEY=minio123
PROMETHEUS_URL=http://localhost:9090
GRAFANA_URL=http://localhost:3000
